"use strict";(self.webpackChunkorinoco_frontend=self.webpackChunkorinoco_frontend||[]).push([[230],{496:(t,e,n)=>{var s=n(274),a=n(880),i=n(102),r=n(558);class d extends r.gp{base(t,e){return`\n            <div class="d-flex flex-column justify-content-center align-items-center my-4" id="order-heading">\n                <div class="text-uppercase">\n                    <p>Détail de la commande</p>\n                </div>\n                <div id="date${e}">${t.date}</div>\n                <div class="pt-1">\n                    <p id="orderId${e}">La commande ${t.orderId} est en cours de <b class="text-dark"> traitement</b></p>\n                </div>\n            </div>\n            <div class="container">\n                <div class="table-responsive">\n                    <table class="table">\n                        <thead>\n                            <tr class="text-uppercase text-muted">\n                                <th scope="col">&nbsp;</th>\n                                <th scope="col" class="text-right">produit</th>\n                            </tr>\n                        </thead>\n                        <tbody id="tbody${e}"></tbody>\n                        <tfoot id="tfoot${e}"></tfoot>\n                    </table>\n                </div>\n                <div class="row rounded p-1 my-3">\n                    <div class="col-md-6 py-3">\n                        <div class="d-flex flex-column align-items start"> <b>Adresse de livraison</b>\n                            <p id="name${e}" class="text-justify pt-2">${t.contact.firstName} ${t.contact.lastName}</p>\n                            <p id="address${e}" class="text-justify pt-2">${t.contact.address}</p>\n                            <p id="city${e}" class="text-justify">${t.contact.city}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            `}create(t,e){this.createNode(this.base(t,e))}}class c extends r.gp{tbody(t){return`\n            <th scope="row"><img src="${t.imageUrl}" class="img-fluid" width="300px" height="300px" alt="${t.name}"></th>\n            <td>${t.name}</td>\n            `}create(t){this.createNode(this.tbody(t))}}class o extends r.gp{tfoot(t){return`\n            <th scope="row">Total</th>\n            <td>${(0,a.Y)(t.totalPrice)}</td>\n            `}create(t){this.createNode(this.tfoot(t))}}if(s.y.isEmpty())document.querySelector(".table-responsive").innerHTML="Aucune commande n'a été passée";else{const t=new d("div",{class:"container border border-1 border-dark rounded my-3"},".table-responsive");var l=1;s.y.get().forEach((e=>{t.create(e,l);const n=new c("tr",{},`#tbody${l}`);new o("tr",{},`#tfoot${l}`).create(e),e.products.forEach((t=>{n.create(t)})),l++}))}(0,i.F)()},102:(t,e,n)=>{n.d(e,{F:()=>a});var s=n(274);function a(){var t=document.getElementById("cart-nb");if(t&&0===s.N.count()||void 0===s.N.count())t.innerHTML="";else{let t=`\n            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">\n                ${s.N.count()}\n                <span class="visually-hidden">Articles du panier</span>\n            </span>\n            `;document.getElementById("cart-nb").innerHTML=t}}},880:(t,e,n)=>{function s(t){var e=t/100+".00";return Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(e)}n.d(e,{Y:()=>s})},274:(t,e,n)=>{n.d(e,{N:()=>i,y:()=>r});var s=n(9);class a{constructor(t){this.name=t}init(){if(null===this.get())var t=[];else t=this.get();return t}set(t){return localStorage.setItem(this.name,JSON.stringify(t))}get(){return JSON.parse(localStorage.getItem(this.name))}find(t){return this.get().find((e=>e._id===t))}updateQuantity(t,e){var n=this.get(),s=n.find((e=>e._id===t)),a=parseInt(e.value);s&&(s.quantity=parseInt(a)),this.set(n)}del(t){var e=this.get().findIndex((e=>e._id===t)),n=this.get();n.splice(e,1),this.set(n)}delAll(){localStorage.removeItem(this.name)}totalPrice(){let t=0;return this.get().forEach((e=>{t+=e.price*e.quantity})),t}isEmpty(){if(null===this.get()||0===this.get().length)return!0}}const i=new class extends a{add(t){this.set(this.init());let e=this.get();var n=e.find((e=>e._id===t._id));t.quantity=parseInt(document.getElementById("btnQuantity").value),n?n.quantity>=10?(0,s.j)(".card-body","Il ne reste que 10 produits en stock","danger",!0):(n.quantity+=parseInt(t.quantity),(0,s.j)(".card-body","Le produit a été ajouter au panier","success",!0)):(e.push({name:t.name,imageUrl:t.imageUrl,_id:t._id,quantity:t.quantity,price:t.price}),(0,s.j)(".card-body","Le produit a été ajouter au panier","success",!0)),this.set(e)}count(){var t;if(null!==this.get()&&0!==this.get())return t=0,this.get().forEach((e=>{t+=e.quantity})),t;t=null}}("cart"),r=new class extends a{total(){let t=0;return i.get().forEach((e=>{t+=e.price*e.quantity})),t}add(t){this.set(this.init());let e=this.get(),n=new Date;e.push({contact:t.contact,orderId:t.orderId,products:t.products,date:n,totalPrice:this.total()}),this.set(e)}}("confirmation")}},t=>{var e;e=496,t(t.s=e)}]);