"use strict";(self.webpackChunkorinoco_frontend=self.webpackChunkorinoco_frontend||[]).push([[230],{496:(t,e,n)=>{var a=n(274),d=n(558),i=n(880);const r=new a.T("confirmation");function s(t,e){let n=(0,d.l)("tr");n.innerHTML=e,t.appendChild(n)}!function(){if(null===r.get()||0===r.get().data.length)document.getElementById("confirmationSection").innerHTML="Aucune commande n'a été passée";else{var t=1;r.get().data.forEach((e=>{!function(t){let e=(0,d.l)("div",{class:"container border border-1 border-dark rounded my-3"}),n=`\n        <div class="d-flex flex-column justify-content-center align-items-center my-4" id="order-heading">\n            <div class="text-uppercase">\n                <p>Détail de la commande</p>\n            </div>\n            <div id="date${t}"></div>\n            <div class="pt-1">\n                <p id="orderId${t}"></p>\n            </div>\n        </div>\n        <div class="container">\n            <div class="table-responsive">\n                <table class="table">\n                    <thead>\n                        <tr class="text-uppercase text-muted">\n                            <th scope="col">&nbsp;</th>\n                            <th scope="col" class="text-right">produit</th>\n                        </tr>\n                    </thead>\n                    <tbody id="tbody${t}"></tbody>\n                    <tfoot id="tfoot${t}"></tfoot>\n                </table>\n            </div>\n            <div class="row rounded p-1 my-3">\n                <div class="col-md-6 py-3">\n                    <div class="d-flex flex-column align-items start"> <b>Adresse de livraison</b>\n                        <p id="name${t}" class="text-justify pt-2"></p>\n                        <p id="address${t}" class="text-justify pt-2"></p>\n                        <p id="city${t}" class="text-justify"></p>\n                    </div>\n                </div>\n            </div>\n        </div>\n        `;e.innerHTML=n,document.getElementById("confirmationSection").appendChild(e)}(t);let n=document.getElementById(`date${t}`),a=document.getElementById(`orderId${t}`),r=document.getElementById(`name${t}`),c=document.getElementById(`address${t}`),o=document.getElementById(`city${t}`);var l;s(document.getElementById(`tfoot${t}`),(l=e,`\n      <th scope="row">Total</th>\n      <td>${(0,i.Y)(l.totalPrice)}</td>\n    `));var u=document.getElementById(`tbody${t}`);n.innerHTML=e.date,a.innerHTML=`La commande ${e.orderId} est en cours de <b class="text-dark"> traitement</b>`,r.innerHTML=`${e.contact.firstName} ${e.contact.lastName}`,c.innerHTML=e.contact.address,o.innerHTML=e.contact.city,e.products.forEach((t=>{s(u,(t=>`\n      <th scope="row"><img src="${t.imageUrl}" class="img-fluid" width="300px" height="300px" alt="${t.name}"></th>\n      <td>${t.name}</td>\n    `)(t))})),t++}))}}()},880:(t,e,n)=>{function a(t){var e=t/100+".00";return Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(e)}n.d(e,{Y:()=>a})},274:(t,e,n)=>{n.d(e,{A:()=>i,T:()=>s});var a=n(9);class d{constructor(t){this.name=t||""}check(){if(null===this.get())var t={data:[]};else t=this.get();return t}set(t){return localStorage.setItem(this.name,JSON.stringify(t))}get(){return JSON.parse(localStorage.getItem(this.name))}updateQuantity(t,e){var n=this.get(),a=n.data.find((e=>e._id===t)),d=parseInt(e.value);a&&(a.quantity=parseInt(d)),this.set(n)}del(t){var e=this.get().data.findIndex((e=>e._id===t)),n=this.get();n.data.splice(e,1),this.set(n)}delAll(){localStorage.removeItem(this.name)}}class i extends d{add(t){this.set(this.check());var e=this.get(),n=e.data.find((e=>e._id===t._id));t.quantity=parseInt(document.getElementById("btnQuantity").value),n?n.quantity>=10?(0,a.j)(".card-body","Il reste 10 produits en stock","danger",!0):(n.quantity+=parseInt(t.quantity),(0,a.j)(".card-body","Le produit a été ajouter au panier","success",!0)):(e.data.push({name:t.name,imageUrl:t.imageUrl,_id:t._id,quantity:t.quantity,price:t.price}),(0,a.j)(".card-body","Le produit a été ajouter au panier","success",!0)),this.set(e)}totalPrice(){let t=0;return this.get().data.forEach((e=>{t+=e.price*e.quantity})),t}count(){var t;if(null!==this.get()&&0!==this.get().data){let e=this.get().data;return t=0,e.forEach((e=>{t+=e.quantity})),console.log(t),t}t=null}}const r=new i("cart");class s extends d{add(t){this.set(this.check());var e=this.get(),n=new Date;e.data.push({contact:t.contact,orderId:t.orderId,products:t.products,date:n,totalPrice:this.totalPrice(r.get().data)}),this.set(e)}totalPrice(){let t=0;return this.get().data.forEach((e=>{t+=e.price*e.quantity})),t}}}},t=>{var e;e=496,t(t.s=e)}]);